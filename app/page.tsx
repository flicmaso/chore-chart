'use client'

import { useState, useEffect } from 'react'

type Chore = {
  id: string
    name: string
      category: string
        done: boolean
        }

        type Person = 'mason' | 'shannon'

        const MASON_CHORES: Omit<Chore, 'done'>[] = [
          { id: 'm1', name: 'Coffee Table', category: 'Living Room' },
            { id: 'm2', name: 'Vacuuming the Carpet', category: 'Living Room' },
              { id: 'm3', name: 'Balcony Maintaining', category: 'Living Room' },
                { id: 'm4', name: 'Grill', category: 'Garage' },
                  { id: 'm5', name: 'Sweeping/Shoveling', category: 'Garage' },
                    { id: 'm6', name: 'Mirror Cleaning/Sink', category: 'Guest Bathroom' },
                      { id: 'm7', name: 'Shower', category: 'Guest Bathroom' },
                        { id: 'm8', name: 'Lint', category: 'Guest Bathroom' },
                          { id: 'm9', name: 'Garbage', category: 'Guest Bathroom' },
                            { id: 'm10', name: 'Litterbox Monthly', category: 'Guest Bathroom' },
                              { id: 'm11', name: 'Sweeping/Mopping Rugs', category: 'Guest Bathroom' },
                                { id: 'm12', name: 'Cooking (Mason)', category: 'Kitchen' },
                                  { id: 'm13', name: 'Air Fryer', category: 'Kitchen' },
                                    { id: 'm14', name: 'Cleaning Counters', category: 'Kitchen' },
                                      { id: 'm15', name: 'Ice Machine', category: 'Kitchen' },
                                        { id: 'm16', name: 'Garbages', category: 'Kitchen' },
                                          { id: 'm17', name: 'Feeding Shadow', category: 'Entryway' },
                                            { id: 'm18', name: "Shadow's Water", category: 'Entryway' },
                                              { id: 'm19', name: 'Rugs', category: 'Entryway' },
                                                { id: 'm20', name: 'Cleaning Stairs', category: 'Entryway' },
                                                  { id: 'm21', name: 'Dusting Fan', category: 'Entryway' },
                                                    { id: 'm22', name: 'Closet Upkeep', category: 'Entryway' },
                                                      { id: 'm23', name: 'Closet Cleaning', category: 'Main Bathroom' },
                                                        { id: 'm24', name: 'Sink/Mirror', category: 'Main Bathroom' },
                                                          { id: 'm25', name: 'Sweeping/Mopping', category: 'Main Bathroom' },
                                                          ]

                                                          const SHANNON_CHORES: Omit<Chore, 'done'>[] = [
                                                            { id: 's1', name: "Keeping Shadow's Stuff Clean", category: 'Living Room' },
                                                              { id: 's2', name: 'Dusting', category: 'Living Room' },
                                                                { id: 's3', name: 'Deep Cleaning Couch', category: 'Living Room' },
                                                                  { id: 's4', name: 'Maintaining Closet', category: 'Living Room' },
                                                                    { id: 's5', name: 'Fridge', category: 'Garage' },
                                                                      { id: 's6', name: 'Garbage', category: 'Garage' },
                                                                        { id: 's7', name: 'Storage', category: 'Garage' },
                                                                          { id: 's8', name: 'Vacuuming', category: 'Office' },
                                                                            { id: 's9', name: 'Dusting TV', category: 'Office' },
                                                                              { id: 's10', name: 'Keeping Closet Clean', category: 'Office' },
                                                                                { id: 's11', name: 'Garbage', category: 'Main Bathroom' },
                                                                                  { id: 's12', name: 'Toilet', category: 'Main Bathroom' },
                                                                                    { id: 's13', name: 'Shower', category: 'Main Bathroom' },
                                                                                      { id: 's14', name: 'Dishes (Shannon)', category: 'Kitchen' },
                                                                                        { id: 's15', name: 'Pantry', category: 'Kitchen' },
                                                                                          { id: 's16', name: 'Fridge', category: 'Kitchen' },
                                                                                            { id: 's17', name: 'Microwave', category: 'Kitchen' },
                                                                                              { id: 's18', name: 'Sweeping/Floor Upkeep', category: 'Kitchen' },
                                                                                                { id: 's19', name: 'Cleaning Oven', category: 'Kitchen' },
                                                                                                  { id: 's20', name: 'House Laundry', category: 'Guest Bathroom' },
                                                                                                    { id: 's21', name: 'Litterbox Daily', category: 'Guest Bathroom' },
                                                                                                      { id: 's22', name: 'Toilet', category: 'Guest Bathroom' },
                                                                                                        { id: 's23', name: 'Vacuuming', category: 'Bedroom' },
                                                                                                          { id: 's24', name: 'Dusting', category: 'Bedroom' },
                                                                                                            { id: 's25', name: 'Bedding', category: 'Bedroom' },
                                                                                                            ]

                                                                                                            function getWeekKey() {
                                                                                                                  const now = new Date()
                                                                                                                    const startOfYear = new Date(now.getFullYear(), 0, 1)
                                                                                                                      const weekNum = Math.ceil(((now.getTime() - startOfYear.getTime()) / 86400000 + startOfYear.getDay() + 1) / 7)
                                                                                                                        return `${now.getFullYear()}-W${weekNum}`
                                                                                                                        }

                                                                                                                        function initChores(baseChores: Omit<Chore, 'done'>[]): Chore[] {
                                                                                                                          return baseChores.map(c => ({ ...c, done: false }))
                                                                                                                          }

                                                                                                                          function loadState(person: Person): Chore[] {
                                                                                                                            if (typeof window === 'undefined') return []
                                                                                                                              const key = `chores-${person}-${getWeekKey()}`
                                                                                                                                const saved = localStorage.getItem(key)
                                                                                                                                  if (saved) return JSON.parse(saved)
                                                                                                                                    const base = person === 'mason' ? MASON_CHORES : SHANNON_CHORES
                                                                                                                                      return initChores(base)
                                                                                                                                      }

                                                                                                                                      function saveState(person: Person, chores: Chore[]) {
                                                                                                                                        const key = `chores-${person}-${getWeekKey()}`
                                                                                                                                          localStorage.setItem(key, JSON.stringify(chores))
                                                                                                                                          }

                                                                                                                                          function groupByCategory(chores: Chore[]): Record<string, Chore[]> {
                                                                                                                                            return chores.reduce((acc, chore) => {
                                                                                                                                                if (!acc[chore.category]) acc[chore.category] = []
                                                                                                                                                    acc[chore.category].push(chore)
                                                                                                                                                        return acc
                                                                                                                                                          }, {} as Record<string, Chore[]>)
                                                                                                                                                          }

                                                                                                                                                          const MASON_COLOR = '#f59e0b'
                                                                                                                                                          const SHANNON_COLOR = '#8b5cf6'

                                                                                                                                                          export default function Home() {
                                                                                                                                                            const [view, setView] = useState<'home' | Person>('home')
                                                                                                                                                              const [masonChores, setMasonChores] = useState<Chore[]>([])
                                                                                                                                                                const [shannonChores, setShannonChores] = useState<Chore[]>([])
                                                                                                                                                                  const [mounted, setMounted] = useState(false)

                                                                                                                                                                    useEffect(() => {
                                                                                                                                                                        setMasonChores(loadState('mason'))
                                                                                                                                                                            setShannonChores(loadState('shannon'))
                                                                                                                                                                                setMounted(true)
                                                                                                                                                                                  }, [])

                                                                                                                                                                                    const toggleChore = (person: Person, id: string) => {
                                                                                                                                                                                        if (person === 'mason') {
                                                                                                                                                                                              const updated = masonChores.map(c => c.id === id ? { ...c, done: !c.done } : c)
                                                                                                                                                                                                    setMasonChores(updated)
                                                                                                                                                                                                          saveState('mason', updated)
                                                                                                                                                                                                              } else {
                                                                                                                                                                                                                    const updated = shannonChores.map(c => c.id === id ? { ...c, done: !c.done } : c)
                                                                                                                                                                                                                          setShannonChores(updated)
                                                                                                                                                                                                                                saveState('shannon', updated)
                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                      }

                                                                                                                                                                                                                                        const resetWeek = (person: Person) => {
                                                                                                                                                                                                                                            if (!confirm(`Reset ${person === 'mason' ? 'Mason' : 'Shannon'}'s chores for this week?`)) return
                                                                                                                                                                                                                                                const base = person === 'mason' ? MASON_CHORES : SHANNON_CHORES
                                                                                                                                                                                                                                                    const fresh = initChores(base)
                                                                                                                                                                                                                                                        if (person === 'mason') { setMasonChores(fresh); saveState('mason', fresh) }
                                                                                                                                                                                                                                                            else { setShannonChores(fresh); saveState('shannon', fresh) }
                                                                                                                                                                                                                                                              }

                                                                                                                                                                                                                                                                const masonDone = masonChores.filter(c => c.done).length
                                                                                                                                                                                                                                                                  const shannonDone = shannonChores.filter(c => c.done).length
                                                                                                                                                                                                                                                                    const weekKey = getWeekKey()

                                                                                                                                                                                                                                                                      if (!mounted) return null

                                                                                                                                                                                                                                                                        if (view === 'home') {
                                                                                                                                                                                                                                                                            return (
                                                                                                                                                                                                                                                                                  <div style={{ minHeight: '100vh', background: '#0f0f0f', padding: '24px', fontFamily: 'system-ui, sans-serif' }}>
                                                                                                                                                                                                                                                                                          <div style={{ maxWidth: '700px', margin: '0 auto' }}>
                                                                                                                                                                                                                                                                                                    <div style={{ textAlign: 'center', marginBottom: '40px' }}>
                                                                                                                                                                                                                                                                                                                <h1 style={{ fontSize: '2rem', fontWeight: '800', color: '#fff', marginBottom: '8px' }}>
                                                                                                                                                                                                                                                                                                                              Chore Chart
                                                                                                                                                                                                                                                                                                                                          </h1>
                                                                                                                                                                                                                                                                                                                                                      <p style={{ color: '#888', fontSize: '0.9rem' }}>Week: {weekKey}</p>
                                                                                                                                                                                                                                                                                                                                                                </div>

                                                                                                                                                                                                                                                                                                                                                                          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px', marginBottom: '30px' }}>
                                                                                                                                                                                                                                                                                                                                                                                      <button onClick={() => setView('mason')} style={{
                                                                                                                                                                                                                                                                                                                                                                                                    background: '#1a1a1a', border: `2px solid ${MASON_COLOR}`, borderRadius: '16px',
                                                                                                                                                                                                                                                                                                                                                                                                                  padding: '32px 24px', cursor: 'pointer', textAlign: 'center', transition: 'all 0.2s'
                                                                                                                                                                                                                                                                                                                                                                                                                              }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <div style={{ fontSize: '3rem', marginBottom: '12px' }}>üèà</div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                          <h2 style={{ color: MASON_COLOR, fontSize: '1.4rem', fontWeight: '700', marginBottom: '8px' }}>Mason</h2>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <p style={{ color: '#fff', fontSize: '1.1rem', fontWeight: '600' }}>{masonDone} / 25</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <div style={{ marginTop: '12px', background: '#333', borderRadius: '99px', height: '8px', overflow: 'hidden' }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <div style={{ width: `${(masonDone / 25) * 100}%`, background: MASON_COLOR, height: '100%', borderRadius: '99px', transition: 'width 0.3s' }} />
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <p style={{ color: '#888', fontSize: '0.85rem', marginTop: '8px' }}>Pack Attack</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              </button>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <button onClick={() => setView('shannon')} style={{
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        background: '#1a1a1a', border: `2px solid ${SHANNON_COLOR}`, borderRadius: '16px',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      padding: '32px 24px', cursor: 'pointer', textAlign: 'center', transition: 'all 0.2s'
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <div style={{ fontSize: '3rem', marginBottom: '12px' }}>üèÜ</div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <h2 style={{ color: SHANNON_COLOR, fontSize: '1.4rem', fontWeight: '700', marginBottom: '8px' }}>Shannon</h2>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <p style={{ color: '#fff', fontSize: '1.1rem', fontWeight: '600' }}>{shannonDone} / 25</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <div style={{ marginTop: '12px', background: '#333', borderRadius: '99px', height: '8px', overflow: 'hidden' }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <div style={{ width: `${(shannonDone / 25) * 100}%`, background: SHANNON_COLOR, height: '100%', borderRadius: '99px', transition: 'width 0.3s' }} />
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <p style={{ color: '#888', fontSize: '0.85rem', marginTop: '8px' }}>Tofu Titans</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  </button>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </div>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <div style={{ background: '#1a1a1a', borderRadius: '16px', padding: '24px', border: '1px solid #333' }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <h3 style={{ color: '#fff', fontWeight: '700', marginBottom: '16px', fontSize: '1.1rem' }}>Weekly Progress</h3>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '12px' }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span style={{ color: MASON_COLOR, width: '70px', fontSize: '0.9rem', fontWeight: '600' }}>Mason</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <div style={{ flex: 1, background: '#333', borderRadius: '99px', height: '10px', overflow: 'hidden' }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <div style={{ width: `${(masonDone / 25) * 100}%`, background: MASON_COLOR, height: '100%', borderRadius: '99px' }} />
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <span style={{ color: '#fff', width: '45px', textAlign: 'right', fontSize: '0.9rem' }}>{Math.round((masonDone / 25) * 100)}%</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span style={{ color: SHANNON_COLOR, width: '70px', fontSize: '0.9rem', fontWeight: '600' }}>Shannon</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <div style={{ flex: 1, background: '#333', borderRadius: '99px', height: '10px', overflow: 'hidden' }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <div style={{ width: `${(shannonDone / 25) * 100}%`, background: SHANNON_COLOR, height: '100%', borderRadius: '99px' }} />
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <span style={{ color: '#fff', width: '45px', textAlign: 'right', fontSize: '0.9rem' }}>{Math.round((shannonDone / 25) * 100)}%</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              )
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  const person = view as Person
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    const chores = person === 'mason' ? masonChores : shannonChores
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      const color = person === 'mason' ? MASON_COLOR : SHANNON_COLOR
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        const emoji = person === 'mason' ? 'üèà' : 'üèÜ'
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          const teamName = person === 'mason' ? 'Pack Attack' : 'Tofu Titans'
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            const done = chores.filter(c => c.done).length
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              const grouped = groupByCategory(chores)

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                return (
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <div style={{ minHeight: '100vh', background: '#0f0f0f', fontFamily: 'system-ui, sans-serif' }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          <div style={{ background: '#1a1a1a', borderBottom: '1px solid #333', padding: '16px 24px', position: 'sticky', top: 0, zIndex: 100 }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  <div style={{ maxWidth: '700px', margin: '0 auto', display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <button onClick={() => setView('home')} style={{ background: 'none', border: 'none', color: '#888', cursor: 'pointer', fontSize: '0.9rem', display: 'flex', alignItems: 'center', gap: '6px' }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        ‚Üê Back
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  </button>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <div style={{ textAlign: 'center' }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span style={{ fontSize: '1.5rem' }}>{emoji}</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <span style={{ color, fontWeight: '700', fontSize: '1.1rem', marginLeft: '8px' }}>{person === 'mason' ? 'Mason' : 'Shannon'}</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <span style={{ color: '#666', fontSize: '0.85rem', marginLeft: '8px' }}>{teamName}</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <button onClick={() => resetWeek(person)} style={{ background: 'none', border: '1px solid #444', color: '#888', cursor: 'pointer', fontSize: '0.8rem', padding: '4px 10px', borderRadius: '8px' }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Reset
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          </button>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </div>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <div style={{ maxWidth: '700px', margin: '0 auto', padding: '24px' }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      <div style={{ background: '#1a1a1a', borderRadius: '12px', padding: '16px', marginBottom: '24px', border: `1px solid ${color}33` }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '10px' }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span style={{ color: '#888', fontSize: '0.9rem' }}>Week {weekKey}</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <span style={{ color, fontWeight: '700' }}>{done} / 25 done</span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <div style={{ background: '#333', borderRadius: '99px', height: '10px', overflow: 'hidden' }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <div style={{ width: `${(done / 25) * 100}%`, background: color, height: '100%', borderRadius: '99px', transition: 'width 0.3s' }} />
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          </div>

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  {Object.entries(grouped).map(([category, items]) => (
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <div key={category} style={{ marginBottom: '24px' }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <h3 style={{ color: color, fontSize: '0.8rem', fontWeight: '700', textTransform: 'uppercase', letterSpacing: '0.1em', marginBottom: '12px', paddingLeft: '4px', borderLeft: `3px solid ${color}`, paddingLeft: '10px' }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      {category}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  </h3>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            {items.map(chore => (
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <button
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              key={chore.id}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                onClick={() => toggleChore(person, chore.id)}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  style={{
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      background: chore.done ? `${color}22` : '#1a1a1a',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          border: `1px solid ${chore.done ? color : '#333'}`,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              borderRadius: '10px',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  padding: '14px 16px',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      cursor: 'pointer',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          display: 'flex',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              alignItems: 'center',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  gap: '12px',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      textAlign: 'left',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          transition: 'all 0.15s'
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            >
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              <div style={{
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  width: '22px', height: '22px', borderRadius: '50%',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      border: `2px solid ${chore.done ? color : '#555'}`,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          background: chore.done ? color : 'transparent',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              display: 'flex', alignItems: 'center', justifyContent: 'center',
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  flexShrink: 0, transition: 'all 0.15s'
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        {chore.done && <span style={{ color: '#000', fontSize: '12px', fontWeight: '700' }}>‚úì</span>}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <span style={{ color: chore.done ? '#888' : '#f0f0f0', textDecoration: chore.done ? 'line-through' : 'none', fontSize: '0.95rem', transition: 'all 0.15s' }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                {chore.name}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  </span>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  </button>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ))}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              ))}

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      {done === 25 && (
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <div style={{ textAlign: 'center', padding: '32px', background: `${color}22`, borderRadius: '16px', border: `1px solid ${color}` }}>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <div style={{ fontSize: '3rem', marginBottom: '12px' }}>üéâ</div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <h2 style={{ color, fontWeight: '800', fontSize: '1.4rem', marginBottom: '8px' }}>All done this week!</h2>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <p style={{ color: '#888' }}>{person === 'mason' ? 'Mason' : 'Shannon'} crushed it!</p>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      )}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </div>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  )
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }
                                                                                                            }